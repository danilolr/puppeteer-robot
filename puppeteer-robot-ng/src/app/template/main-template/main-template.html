<div class="flex h-screen bg-gray-100">
  <!-- Sidebar -->
  <aside [class]="'bg-gray-900 text-white transition-all duration-300 ease-in-out ' + 
    (isSidebarCollapsed() ? 'w-16' : 'w-64')">
    
    <!-- Sidebar Header -->
    <div class="flex items-center justify-between p-4 border-b border-gray-700">
      @if (!isSidebarCollapsed()) {
        <h1 class="text-xl font-bold">Puppeteer Robot</h1>
      }
      <button 
        (click)="toggleSidebar()"
        class="p-2 rounded-md hover:bg-gray-700 transition-colors"
        [title]="isSidebarCollapsed() ? 'Expand sidebar' : 'Collapse sidebar'">
        @if (isSidebarCollapsed()) {
          <span class="text-lg">â˜°</span>
        } @else {
          <span class="text-lg">âœ•</span>
        }
      </button>
    </div>

    <!-- Connection Status -->
    <div class="px-4 py-3 border-b border-gray-700">
      @if (!isSidebarCollapsed()) {
        <div class="flex items-center space-x-2">
          <span [class]="'w-2 h-2 rounded-full ' + (wsService.wsIsConnected() ? 'bg-green-500' : 'bg-red-500')"></span>
          <span class="text-sm">
            {{ wsService.wsIsConnected() ? 'Conectado' : 'Desconectado' }}
          </span>
        </div>
      } @else {
        <div class="flex justify-center">
          <span [class]="'w-2 h-2 rounded-full ' + (wsService.wsIsConnected() ? 'bg-green-500' : 'bg-red-500')"></span>
        </div>
      }
    </div>

    <!-- Navigation Menu -->
    <nav class="flex-1 p-4">
      <ul class="space-y-2">
        @for (item of menuItems(); track item.path) {
          <li>
            <a 
              [routerLink]="item.path"
              routerLinkActive="bg-blue-600 text-white"
              [routerLinkActiveOptions]="{ exact: item.path === '' }"
              class="flex items-center px-4 py-3 rounded-lg hover:bg-gray-700 transition-colors group">
              
              <span class="text-lg mr-3">{{ item.icon }}</span>
              
              @if (!isSidebarCollapsed()) {
                <span class="font-medium">{{ item.label }}</span>
              }
            </a>
          </li>
        }
      </ul>
    </nav>

    <!-- Sidebar Footer -->
    <div class="p-4 border-t border-gray-700">
      @if (!isSidebarCollapsed()) {

      } @else {
        <div class="flex justify-center">
          <span class="text-sm">ðŸ¤–</span>
        </div>
      }
    </div>
  </aside>

  <!-- Main Content -->
  <main class="flex-1 overflow-auto">
    <div class="p-6">
      <router-outlet />
    </div>
  </main>
</div>